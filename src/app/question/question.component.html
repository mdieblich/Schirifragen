<div class="border p-3">
  <div class="text-center font-italic question-number">
    <span *ngIf="!id">Wähle Frage aus...</span>
    <span *ngIf="id">Frage {{id}}</span>
  </div>
  <div class="text-justify">
    <span *ngIf="!question"><ngb-progressbar type="success" [value]="id?(question?100:75):25" [striped]="true" animated="true"></ngb-progressbar></span>
    <span *ngIf="question">{{question.text}}</span>
  </div>
</div>

<mat-card class="question-card">

  <mat-card-header>
    <div mat-card-avatar>
      <button mat-fab disabled class="question-number">
        <span *ngIf="!id">?</span>
        <span *ngIf="id">{{id}}</span>
      </button>
    </div>
    <mat-card-title class="question-text">
      <span *ngIf="!question">&nbsp;
        <br>&nbsp;</span>
      <span *ngIf="question">{{question.text}}</span>
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <mat-progress-bar mode="buffer" *ngIf="!question"></mat-progress-bar>

    <app-answer-list 
      *ngIf="question"
      [finished]="finished"
      [question]="question"
      [(selectedAnswers)]="selectedAnswers"
      ></app-answer-list>
  </mat-card-content>

  <mat-card-actions class="question-actions">
    <button mat-raised-button color="primary" (click)="checkAnswers()" [disabled]="finished || !question">Prüfen</button>
    <button mat-raised-button color="primary" (click)="next()" [disabled]="!finished">Weiter</button>
    <span *ngIf="finished">
      Ergebnis: {{score | points}}
    </span>
    <a mat-raised-button color="primary" routerLink="/analysis">Zur Auswertung</a>
  </mat-card-actions>
</mat-card>